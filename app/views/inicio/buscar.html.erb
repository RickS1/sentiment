<script src="https://d3js.org/d3.v4.min.js"></script>
<%= include_gon  %>
<script type="text/javascript">

//Cargamos los datos
d3.csv('http://200.12.162.229:81/usr_stats_Ayotzinapa.csv',function(data){
	data.forEach(function(d){d['followers'] = +d['followers']; d['following'] = +d['following'];});

	var width = 800;
	var height = 600;
	var margen = 50;

	var svg = d3.select("body").append("svg")
						.attr("width", width)
						.attr("height", height);

	var d1 = d3.extent(data, function(d){return d['followers']});
	var d2 = d3.extent(data, function(d){return d['following']});
	var domain = [d1[0] < d2[0] ? d1[0] : d2[0], d1[1] > d2[1] ? d1[1] : d2[1]];

  var x = d3.scaleLinear()
					.domain(domain)
					.range([margen, width - margen]);

	var y = d3.scaleLinear()
					.domain(domain)
					.range([margen, height - margen]);

	var ejeX = d3.axisBottom(x)
							.ticks(8);

	var ejeY = d3.axisLeft(y)
							.ticks(8);

	svg.append("g")
			.attr("class", "eje-x")
			.call(ejeX);

	svg.append("g")
			.attr("class", "eje-y")
			.call(ejeY);

});

</script>

